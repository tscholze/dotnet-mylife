<?xml version="1.0" encoding="utf-8"?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:MyLife.Maui.ViewModels"
             xmlns:model="clr-namespace:MyLife.Core.Models.OpenSource;assembly=MyLife.Core"
             xmlns:mi="http://www.aathifmahir.com/dotnet/2022/maui/icons"
             x:Class="MyLife.Maui.Pages.OpenSourcePage"
             x:DataType="vm:OpenSourceViewModel"
             Title="Open Source">

    <ScrollView>
        <VerticalStackLayout Spacing="16"
                             Padding="16">

            <VerticalStackLayout Spacing="8">
                <HorizontalStackLayout HorizontalOptions="Fill"
                                       VerticalOptions="Center">
                    <Label Text="{Binding GithubName}"
                           Style="{StaticResource Headline}"/>
                    <ImageButton mi:MauiIcon.Value="{mi:Material Icon=AccessAlarm}"
                                 WidthRequest="24"
                                 HeightRequest="24"
                                 Command="{Binding OpenGitHubCommand}"/>
                </HorizontalStackLayout>

                <Border Padding="8"
                        Style="{StaticResource Card1}">
                    <Label Text="{Binding Motivation}"/>
                </Border>
            </VerticalStackLayout>

            <CollectionView ItemsSource="{Binding ProjectFamilies}"
                            SelectionMode="Single"
                            Margin="0,16,0,0"
                            IsGrouped="True">
                <CollectionView.GroupHeaderTemplate>
                    <DataTemplate x:DataType="model:ProjectFamily">
                        <VerticalStackLayout>
                            <Label Text="{Binding Name}"
                                   FontSize="Medium"
                                   FontAttributes="Bold"/>
                            <Label Text="{Binding Description}"
                                   TextColor="Blue"
                                   FontSize="Small"/>
                        </VerticalStackLayout>
                    </DataTemplate>
                </CollectionView.GroupHeaderTemplate>

                <CollectionView.ItemTemplate>
                    <DataTemplate x:DataType="model:Project">
                        <VerticalStackLayout>
                            <Label Text="{Binding Name}"
                                   FontAttributes="Bold"/>
                            <Label Text="{Binding Descripton}"
                                   TextColor="Gray"
                                   FontSize="Small"/>
                        </VerticalStackLayout>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>